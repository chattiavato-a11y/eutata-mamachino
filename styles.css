:root{
  --bg:#0b0c10;
  --card:#121319;
  --ink:#e6e6e6;
  --muted:#a9b0b8;
  --accent:#6ad1ff;
  --ring:rgba(106,209,255,.35);
  --focus-ring:#6ad1ff;
  color-scheme: dark;
}
[data-theme="light"]{
  --bg:#ffffff;
  --card:#f5f7fb;
  --ink:#1f2430;
  --muted:#536070;
  --accent:#0077ff;
  --ring:rgba(0,119,255,.25);
  --focus-ring:#005fcc;
  color-scheme: light;
}
*{
  box-sizing:border-box;
}
body{
  margin:0;
  background:var(--bg);
  color:var(--ink);
  font:14px/1.5 "Segoe UI",Roboto,system-ui,-apple-system,BlinkMacSystemFont,"Helvetica Neue",Arial,sans-serif;
}
main{
  display:grid;
  gap:24px;
  margin-bottom:48px;
}
.wrap{
  max-width:920px;
  margin:0 auto;
  padding:24px;
}
header{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  margin-bottom:18px;
}
header h1{
  margin:0;
  font-size:1.5rem;
}
.toggles{
  display:flex;
  gap:12px;
  align-items:center;
}
button,
select{
  background:var(--card);
  color:var(--ink);
  border:1px solid #242634;
  border-radius:10px;
  padding:8px 12px;
  transition:box-shadow .2s ease,transform .2s ease;
}
button:hover,
select:hover{
  box-shadow:0 0 0 3px var(--ring);
}
button:focus-visible,
select:focus-visible,
textarea:focus-visible,
summary:focus-visible,
a:focus-visible{
  outline:3px solid var(--focus-ring);
  outline-offset:3px;
}
.chat{
  background:var(--card);
  border:1px solid #242634;
  border-radius:14px;
  padding:14px;
  height:60vh;
  overflow:auto;
}
.msg{
  margin:8px 0;
  padding:10px 12px;
  border-radius:10px;
  white-space:pre-wrap;
  word-break:break-word;
}
.me{
  background:rgba(106,209,255,.08);
  border:1px solid rgba(106,209,255,.25);
}
.ai{
  background:rgba(255,255,255,.03);
  border:1px solid #2a2d3b;
}
.bar{
  display:flex;
  gap:8px;
  margin-top:10px;
}
.bar textarea{
  flex:1;
  min-height:44px;
  max-height:160px;
  resize:vertical;
  background:var(--card);
  color:var(--ink);
  border:1px solid #242634;
  border-radius:10px;
  padding:10px;
}
.bar .mic-btn{
  display:flex;
  align-items:center;
  justify-content:center;
  width:44px;
  min-width:44px;
  height:44px;
  padding:0;
  font-size:18px;
  line-height:1;
  transition:background .2s ease, outline-color .2s ease;
}
.bar .mic-btn[aria-pressed="true"]{
  background:rgba(106,209,255,.16);
  outline:2px solid var(--accent);
}
.bar .mic-btn:disabled{
  opacity:.45;
  cursor:not-allowed;
}
.bar .mic-btn .visually-hidden{
  font-size:0;
}
.muted{
  color:var(--muted);
  font-size:12px;
}
.visually-hidden{
  position:absolute !important;
  width:1px;
  height:1px;
  padding:0;
  margin:-1px;
  overflow:hidden;
  clip:rect(0,0,0,0);
  white-space:nowrap;
  border:0;
}
.bad{
  color:#ff7b7b;
  font-size:13px;
  margin-top:6px;
}
#warn[hidden]{
  display:none;
}
.policy-card{
  background:var(--card);
  border:1px solid #242634;
  border-radius:16px;
  padding:18px;
}
.policy-card h2{
  margin-top:0;
  font-size:1.2rem;
}
.guidance-list{
  padding-left:20px;
  margin:12px 0;
}
.guidance-list li{
  margin-bottom:8px;
}
footer{
  border-top:1px solid #242634;
  margin-top:32px;
  padding-top:18px;
}
.footer-links{
  display:flex;
  flex-wrap:wrap;
  gap:14px;
  font-size:13px;
  margin-bottom:12px;
}
.footer-link{
  background:none;
  border:none;
  padding:0;
  color:var(--accent);
  font:inherit;
  cursor:pointer;
  text-decoration:underline;
}
.footer-link:hover,
.footer-link:focus-visible{
  color:var(--ink);
  outline:none;
  text-decoration:none;
}
.footer-copy{
  margin:0;
  font-size:12px;
  color:var(--muted);
}
.policy-dialog{
  border:none;
  border-radius:16px;
  padding:0;
  max-width:520px;
  width:calc(100% - 32px);
  background:var(--card);
  color:var(--ink);
  box-shadow:0 20px 45px rgba(0,0,0,.45);
}
.policy-dialog::backdrop{
  background:rgba(0,0,0,.6);
}
.policy-dialog__content{
  display:flex;
  flex-direction:column;
  gap:16px;
  padding:20px;
}
.policy-dialog__content header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
}
.policy-dialog__content h2{
  margin:0;
  font-size:1.2rem;
}
.dialog-close{
  background:none;
  border:none;
  color:var(--muted);
  font-size:1.4rem;
  cursor:pointer;
  line-height:1;
}
.dialog-close:hover,
.dialog-close:focus-visible{
  color:var(--accent);
  outline:none;
}
@media (max-width:600px){
  header{
    flex-direction:column;
    align-items:flex-start;
  }
  .chat{
    height:50vh;
  }
}
